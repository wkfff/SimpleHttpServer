<!doctype html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>OAuth</title>
		<link rel="stylesheet" type="text/css" href="/static/css/simple-img.css" />
        <link rel="stylesheet" type="text/css" href="/static/css/simple-style.css" />
        
        <script type="text/javascript" charset="utf-8" src="/static/js/jquery.js"></script>
        <script type="text/javascript" charset="utf-8" src="/static/js/core.js"></script>
	</head>
	<body>
		<div class="container-fluid">
			<div class="panel" style="width: 750px;">
				<div class="panel-heading">
					<span class="panel-title">添加应用</span>
				</div>
				<div class="panel-body">
					<table>
                        <tbody>
                            <tr>
                                <td>名称(*)：</td>
                                <td><input id="app_name" class="control-input" type="text" autocomplete="off" /></td>
                            </tr>
                            <tr>
                                <td>域名(*)：</td>
                                <td><input id="app_domain" class="control-input" type="text" autocomplete="off" /></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><input type="button" class="control-button btn-info" value="添加" onclick="new_app();"/></td>
                            </tr>
                        </tbody>
                    </table>
				</div>
			</div>
        </div>
        
        <script>
            function new_app() {
                var app_name = $('#app_name');
                var app_domain = $('#app_domain');
                if (app_name.val() == "") {
                    alert("app 名称不能为空！");
                    return;
                }
                if (app_domain.val() == "") {
                    alert("域不能为空！");
                    return;
                }
    
                var data = {
                    app_name: app_name.val(),
                    app_domain: app_domain.val(),
                };
                Core.App.Create(data, p => p.result ? window.location.href = "/route/app-list.html" : alert(p.data));
            }
        </script>
	</body>
</html>